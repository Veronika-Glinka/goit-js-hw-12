import{a as E,i as b,S as T}from"./assets/vendor-C2BD4WGs.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const O="https://pixabay.com/api/",$="50239307-4265dc0f1525b6f9dda79b82a";async function L(e,t=1){try{const n=await E.get(O,{params:{key:$,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:200}}),{hits:l,totalHits:o}=n.data;return{hits:l,totalHits:o}}catch{return b.error({title:"Error",message:"An error occurred while fetching images.",position:"topRight"}),{hits:[],totalHits:0}}}const i=document.querySelector(".gallery");document.querySelector(".loader");const f=document.querySelector(".load-more-btn"),y=document.querySelector(".end-of-collection");f.style.display="none";y.style.display="none";Object.assign(i.style,{display:"flex",flexDirection:"row",gap:"24px",flexWrap:"wrap",justifyContent:"center",margin:"24px"});const I=new T(".gallery a",{captionsData:"alt",captionDelay:250,captionPosition:"bottom"});i.addEventListener("click",P);function P(e){e.target.closest(".gallery-link")&&e.preventDefault()}function R(e){const t=e.tags.split(",").slice(0,3).join(", ");return`<li class="gallery-item">
    <a class="gallery-link" href="${e.largeImageURL}">
      <img class="gallery-image" src="${e.webformatURL}" alt="${t}" />
    </a>
    <div class="image-info">
      <p><b>Likes:</b> ${e.likes}</p>
      <p><b>Views:</b> ${e.views}</p>
      <p><b>Comments:</b> ${e.comments}</p>
      <p><b>Downloads:</b> ${e.downloads}</p>
      <p><b>Categories:</b> ${t}</p>
    </div>
  </li>`}function k(e){return e.map(R).join("")}function w(e,t){const n=k(e);if(i.insertAdjacentHTML("beforeend",n),B(),e.length===0){b.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"});return}console.log("Gallery children:",i.children.length),console.log("Total hits:",t),console.log("Show end message:",i.children.length>=t),i.children.length>=t?(d(),h()):(m(),S()),I.refresh()}function C(){i.innerHTML=""}function m(){f.style.display="inline-block"}function d(){f.style.display="none"}function h(){y.style.display="block"}function S(){y.style.display="none"}function B(){const e=i.querySelector(".gallery-item");if(!e)return;const t=e.getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}let u=1,a="",s=0,c=0;const q=document.querySelector(".form"),D=q.querySelector('input[name="search-text"]'),v=document.querySelector(".load-more-btn"),M=document.querySelector(".loading-text");q.addEventListener("submit",j);v.addEventListener("click",z);function x(){v.style.display="none",M.style.display="block"}function g(){M.style.display="none"}async function j(e){if(e.preventDefault(),a=D.value.trim(),!!a){u=1,s=0,c=0,C(),d(),S(),x();try{const{hits:t,totalHits:n}=await L(a,u);if(g(),s=t.length,c=n,t.length===0){iziToast.error({message:"No images found for this query!",position:"topRight"});return}w(t),s>=c?(h(),d()):m()}catch{g(),iziToast.error({message:"Error fetching images.",position:"topRight"})}}}async function z(){u++,x();try{const{hits:e}=await L(a,u);g(),s+=e.length,w(e),s>=c?(h(),d()):m()}catch{g(),iziToast.error({message:"Error loading more images.",position:"topRight"})}}
//# sourceMappingURL=index.js.map
